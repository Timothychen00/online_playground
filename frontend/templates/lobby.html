<!doctype html>
<html lang="en">

<head>
    <title>遊戲大廳</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />
</head>

<body>
    <div class="container-fluid" style="height: 100vh;">
        <div class="row text-center" style="height: 100vh;">
            <div class="col-2 color_dark_purple">
                <img class="img-fluid mt-3" src="/static/img/playground.png" alt="">
                <div class="side_card active d-flex align-items-center justify-content-start ps-4 w-100 mt-3"
                    onclick="location.href='/'">
                    <ion-icon name="home" style="font-size: 20px;"></ion-icon>
                    <h5 class="mt-2 ms-3" style="font-weight: 800;">主頁</h5>
                </div>
                <div class="side_card d-flex align-items-center justify-content-start ps-4 w-100 mt-1"
                    onclick="location.href='#game_intro'">
                    <ion-icon name="game-controller" style="font-size: 20px;"></ion-icon>
                    <h5 class="mt-2 ms-3" style="font-weight: 800;">遊戲</h5>
                </div>
                <div class="side_card d-flex align-items-center justify-content-start ps-4 w-100 mt-1"
                    id="friend_button" onclick="location.href='/chat_room'">
                    <ion-icon name="people" style="font-size: 20px;"></ion-icon>
                    <h5 class="mt-2 ms-3" style="font-weight: 800;">社群</h5>
                </div>
                <div class="side_card d-flex align-items-center justify-content-start ps-4 w-100 mt-1"
                    onclick="location.href='/create_game'">
                    <!-- >>>>>>> main -->
                    <ion-icon name="cloud-upload" style="font-size: 20px;"></ion-icon>
                    <h5 class="mt-2 ms-3" style="font-weight: 800;">上傳</h5>
                </div>
                <hr style="border:solid 1px white !important;">
                <div class="side_card d-flex align-items-center justify-content-start ps-4 w-100 mt-1"
                    data-bs-toggle="modal" data-bs-target="#Login_Modal" id="login_selection">
                    <ion-icon name="person-circle" style="font-size: 20px;"></ion-icon>
                    <h5 class="mt-2 ms-3" style="font-weight: 800;">登入</h5>
                </div>

                <div class="side_card d-flex align-items-center justify-content-start ps-4 w-100 mt-1"
                    data-bs-toggle="modal" data-bs-target="#Login_Modal" id="username_selection">
                    <ion-icon name="person-circle" style="font-size: 20px;"></ion-icon>
                    <h5 class="mt-2 ms-3" style="font-weight: 800;" id="username_selection_text"></h5>
                </div>
                <div class="side_card d-flex align-items-center justify-content-start ps-4 w-100 mt-1"
                    id="logout_selection" onclick="location.href='/logout'" style="cursor:pointer">
                    <ion-icon name="log-in" style="font-size: 20px;"></ion-icon>
                    <h5 class="mt-2 ms-3" style="font-weight: 800;">登出</h5>
                </div>


                <div class="side_card d-flex align-items-center justify-content-start ps-4 w-100 mt-1"
                    data-bs-toggle="modal" data-bs-target="#Register_Modal" id="register_selection">
                    <ion-icon name="person-add" style="font-size: 20px;"></ion-icon>
                    <h5 class="mt-2 ms-3" style="font-weight: 800;">註冊</h5>
                </div>
            </div>


            {% block main_content %}

            <div class="col-10 color_light_purple">
                <img src="/static/img/platform.jpg" alt="" class="img-fluid img_platform mt-4">
                <h4 class="text-white text_800 text-start mt-5 ms-5" id="game_intro">推薦遊戲</h4>

                <div class="row mt-0 ps-5" id="games">

                </div>

            </div>
        </div>
        {% endblock main_content %}


        <!-- Modal For Login -->
        <div class="modal fade" id="Login_Modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
            aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-fullscreen">
                <div class="modal-content main-body position-relative">
                    <button type="button" class="btn-close btn-close-white position-absolute end-0 m-2"
                        data-bs-dismiss="modal" aria-label="Close"></button>
                    <div class="row justify-content-center align-items-center">
                        <div class="col-md-5 col-12 text-md-start text-center mt-md-0 mt-5">
                            <h1 style="color: hsl(218, 81%, 95%)">ONLINE PLAYGROUND</h1>
                            <h2 style="color: hsl(218, 81%, 75%)">The Best Game Website</h2>
                        </div>
                        <div class="col-md-4 col-12 py-md-5 position-relative text-center">
                            <div id="radius-shape-1" class="position-absolute rounded-circle shadow-5-strong"></div>
                            <div id="radius-shape-2" class="position-absolute shadow-5-strong">
                            </div>
                            <div class="middle-board p-5 rounded-2 mt-5">
                                <h2 class="text-center" style="font-weight:600;">歡迎回來</h2>
                                <div id="message" class="alert alert-danger mb-0" style="display: none;"></div>
                                <div class="form-floating mb-3 mt-5">
                                    <input type="email" class="form-control login" id="email"
                                        placeholder="name@example.com">
                                    <label for="floatingInput">請輸入電子郵件</label>
                                </div>
                                <div class="form-floating">
                                    <input type="password" class="form-control login" id="password"
                                        placeholder="Password">
                                    <label for="floatingPassword">請輸入密碼</label>
                                </div>
                                <div class="form-check text-start pt-2">
                                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked"
                                        checked>
                                    <label class="form-check-label" for="flexCheckChecked">
                                        記住我
                                    </label>
                                </div>
                                <div class="rounded-2 p-2 mt-4 mb-5 login-button"
                                    style="background-color:rgb(47,92,193); opacity:0.8;" type="submit"
                                    id="login_button">
                                    <b class="text-white text-center">登入</b>
                                </div>
                                <hr class="hr">
                                <ion-icon name="logo-google" class="icon-button" style="color:gray;"></ion-icon>
                                <ion-icon name="logo-facebook" class="ms-3 icon-button" style="color:gray;"></ion-icon>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- <<<<<<< UI -->
        <!-- Modal For Register -->
        <div class="modal fade" id="Register_Modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
            aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-fullscreen">
                <div class="modal-content main-body position-relative">
                    <button type="button" class="btn-close btn-close-white position-absolute end-0 m-2"
                        data-bs-dismiss="modal" aria-label="Close"></button>
                    <div class="row justify-content-center align-items-center">
                        <div class="col-md-5 col-12 text-md-start text-center mt-md-0 mt-5">
                            <h1 style="color: hsl(218, 81%, 95%)">ONLINE PLAYGROUND</h1>
                            <h2 style="color: hsl(218, 81%, 75%)">The Best Game Website</h2>
                        </div>
                        <div class="col-md-4 col-12 py-md-5 position-relative text-center">
                            <div id="radius-shape-1" class="position-absolute rounded-circle shadow-5-strong"></div>
                            <div id="radius-shape-2" class="position-absolute shadow-5-strong">
                            </div>
                            <div class="middle-board p-5 rounded-2 mt-5">
                                <h2 class="text-center" style="font-weight:600;">歡迎註冊</h2>
                                <div id="register_message" class="alert alert-danger mb-0" style="display: none;">
                                </div>
                                <div class="form-floating mb-3 mt-5">
                                    <input type="email" class="form-control" id="register_username"
                                        placeholder="name@example.com">
                                    <label for="floatingInput">請輸入名稱</label>
                                </div>
                                <div class="form-floating mb-3">
                                    <input type="email" class="form-control" id="register_email"
                                        placeholder="name@example.com">
                                    <label for="floatingInput">請輸入電子郵件</label>
                                </div>
                                <div class="form-floating mb-3">
                                    <input type="password" class="form-control" id="register_password"
                                        placeholder="Password">
                                    <label for="floatingPassword">請輸入密碼</label>
                                </div>
                                <div class="form-floating">
                                    <input type="password" class="form-control" id="register_password_check"
                                        placeholder="Password">
                                    <label for="floatingPassword">請再次輸入密碼</label>
                                </div>
                                <div class="rounded-2 p-2 mt-4 mb-5 login-button"
                                    style="background-color:rgb(47,92,193); opacity:0.8;" type="submit"
                                    id="register_button">
                                    <b class="text-white text-center">註冊</b>
                                </div>
                                <hr class="hr">
                                <ion-icon name="logo-google" class="icon-button" style="color:gray;"></ion-icon>
                                <ion-icon name="logo-facebook" class="ms-3 icon-button" style="color:gray;"></ion-icon>
                            </div>
                        </div>
                    </div>
                </div>


                

            </div>
        </div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"
        integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA=="
        crossorigin="anonymous"></script>
    {% block script %}
    <script>
        var link2 = "http://127.0.0.1:5300/";
        if (location.href.includes("ckcsc.net"))
            link2 = "https://backend.ckcsc.net/";
        fetch(link2 + 'api/game?isSingle=False', { mode: 'cors', method: 'GET' })
            .then((res) => (res.json()))
            .then((res) => {
                console.log(res)
                game_inner = ''
                for (i = 0; i < res.length; i++) {
                    console.log(res[i]['img_url']);
                    game_inner += '                    \
                <div class=\"card color_dark_purple text-white border-0 ms-2 px-0 mt-4\"\
                style="width:250px; min-height:400px ">\
                <img class="card-img-top" src="'+ res[i]['img_url'] + '" alt="Card image cap"\
                    style="height: 170px;">\
                <div class="card-body">\
                    <div class="card-text" style="height:210px;">\
                        <h5 style="font-weight:700;font">'+ res[i]['name'] + '</h5>\
                         <hr style="border:solid 1px white !important;">\
                        <p style="font-size:15px">'+ res[i]['description'] + '</p>\
                        <p>by: '+ res[i]['author'] + '</p>\
                    </div>\
                    <div class="side_card active d-flex align-items-center justify-content-center w-100 mt-1 mb-2"\
                        onclick="location.href=\'/games/'+ res[i]['_id'] + '\'\">\
                        <ion-icon name="play" style="font-size: 20px;"></ion-icon>\
                        <h5 class="mt-2 ms-1" style="font-weight: 800;">\
                            開始遊戲</h5>\
                    </div>\
                </div>\
            </div>'

                }

                document.getElementById('games').innerHTML += game_inner;
            })
    </script>
    {% endblock script %}
    <!-- Bootstrap JavaScript Libraries -->

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">
        </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
        integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous">
        </script>
    <script src="/static/js/drag.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="/static/js/ajax.js"></script>
    <script src="/static/js/login.js"></script>
    <script src="/static/js/register.js"></script>
    <script src="/static/js/image.js"></script>
    <script src="/static/js/upload_game.js"></script>
</body>

</html>